(function(e){var d="simple-dual-listbox";e.fn.listboxdual=function(f,h){var g=e.extend({},e.fn.listboxdual.defaults,f);c(this,h,g);return this};e.fn.listboxdual.defaults={availableListboxPosition:"left",availableListSort:"none",upButtonText:"UP",addButtonText:"ADD",addAllButtonText:"ADDALL",remAllButtonText:"REMALL",remButtonText:"REM",downButtonText:"DOWN",selectedLabel:"Selected",availableLabel:"Available"};function c(k,j,h){var l=k.attr("id");var r=l+"_all";var o="#"+l;var f="#"+r;var g=e("<button>").addClass("simple-dual-listbox-button btn btn-default");var q=g.clone().attr("id","up_"+l).text(h.upButtonText);var i=g.clone().attr("id","down_"+l).text(h.downButtonText);var p=g.clone().attr("id","add_"+l).text(h.addButtonText);var t=g.clone().attr("id","addall_"+l).text(h.addAllButtonText);var n=g.clone().attr("id","del_"+l).text(h.remButtonText);var m=g.clone().attr("id","delall_"+l).text(h.remAllButtonText);var s=k.clone();s.attr("id",r).empty();s.removeAttr("name");e.each(j,function(u,v){s.append(e("<option>").attr("value",u).attr("title",v).text(v))});if(h.availableListSort=="alpha_asc"){s.append(s.find("option").remove().sort(function(w,v){var u=e(w).text(),x=e(v).text();return(u>x)?1:((u<x)?-1:0)}))}else{if(h.availableListSort=="alpha_desc"){s.append(s.find("option").remove().sort(function(w,v){var u=e(w).text(),x=e(v).text();return(u<x)?1:((u<x)?-1:0)}))}else{if(h.availableListSort=="num_asc"){s.append(s.find("option").remove().sort(function(w,v){var u=e(w).text(),x=e(v).text();return u-x}))}else{if(h.availableListSort=="num_desc"){s.append(s.find("option").remove().sort(function(w,v){var u=e(w).text(),x=e(v).text();return x-u}))}}}}clone=e(o).clone(true);if(h.availableListboxPosition!="left"){right_listbox=s;left_listbox=clone;right_label=h.availableLabel;left_label=h.selectedLabel}else{right_listbox=clone;left_listbox=s;right_label=h.selectedLabel;left_label=h.availableLabel}table=e("<table>").attr("id","table_simple_dual_listbox_"+l).addClass("simple-dual-listbox-table");table.mouseleave(function(){e("#"+l).children("option").each(function(){e(this).prop("selected",true)})});row=e("<tr>");left_column=e("<div>").addClass("simple-dual-listbox-div-left");left_column.append(e("<label>").addClass("control-label").text(left_label));left_column.append(left_listbox);buttons_column=e("<div>").addClass("btn-group-vertical simple-dual-listbox-div-buttons").attr("role","group").attr("aria-label","...");buttons_column.append(q);buttons_column.append(p);buttons_column.append(t);buttons_column.append(m);buttons_column.append(n);buttons_column.append(i);right_column=e("<div>").addClass("simple-dual-listbox-div-right");right_column.append(e("<label>").addClass("control-label").text(right_label));right_column.append(right_listbox);row.append(e("<td>").append(left_column));row.append(e("<td>").append(buttons_column));row.append(e("<td>").append(right_column));table.append(e("<tbody>").append(row));e(o).replaceWith(table);q.click(function(){e(o+" option:selected").each(function(){var u=e(o+" option").index(this)-1;if(u>-1){e(o+" option").eq(u).before("<option title='"+e(this).attr("title")+"' value='"+e(this).val()+"' selected='selected'>"+e(this).text()+"</option>");e(this).remove()}});return false});i.click(function(){var u=e(o+" option").length;e(o+" option:selected").each(function(){var v=e(o+" option").index(this)+1;if(v<u){e(o+" option").eq(v).after("<option title='"+e(this).attr("title")+"' value='"+e(this).val()+"' selected='selected'>"+e(this).text()+"</option>");e(this).remove()}});return false});p.click(function(){a(f,o,false);return false});t.click(function(){a(f,o,true);return false});n.click(function(){b(f,o,false);return false});m.click(function(){b(f,o,true);return false});return k}function a(l,m,g){if(g){e(l+" option").prop("selected",true)}var h=[];var k=[];var j=[];e(l+" :selected").each(function(n,o){h[n]=e(o).val();k[n]=e(o).text();j[n]=e(o).attr("title")});var f=0;for(f=0;f<h.length;f++){e(l+" option[value = '"+h[f]+"']").remove();e(m).append(e("<option>").attr("title",j[f]).attr("value",h[f]).text(k[f]))}e(m+" option").attr("selected",true);e(l+" option").attr("selected",true)}function b(g,h,f){a(h,g,f)}}(jQuery));